{"date":"Wed Jun 18 2025 14:08:35 GMT+0000 (Coordinated Universal Time)","error":{"name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":126,"line":"3665","name":"error","position":"153","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"firstName\", \"lastName\", \"email\", \"password\", \"role\", \"isActive\", \"isEmailVerified\", \"createdAt\", \"updatedAt\" FROM \"Users\" AS \"User\" WHERE \"User\".\"emailVerificationToken\" = '34174ab9ace7f7df3e84a16e30000b26dee07692e9f794cdb7f90b16e01cf78d' LIMIT 1;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":126,"line":"3665","name":"error","position":"153","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"firstName\", \"lastName\", \"email\", \"password\", \"role\", \"isActive\", \"isEmailVerified\", \"createdAt\", \"updatedAt\" FROM \"Users\" AS \"User\" WHERE \"User\".\"emailVerificationToken\" = '34174ab9ace7f7df3e84a16e30000b26dee07692e9f794cdb7f90b16e01cf78d' LIMIT 1;"},"sql":"SELECT \"id\", \"firstName\", \"lastName\", \"email\", \"password\", \"role\", \"isActive\", \"isEmailVerified\", \"createdAt\", \"updatedAt\" FROM \"Users\" AS \"User\" WHERE \"User\".\"emailVerificationToken\" = '34174ab9ace7f7df3e84a16e30000b26dee07692e9f794cdb7f90b16e01cf78d' LIMIT 1;"},"level":"error","message":"unhandledRejection: column User.emailVerificationToken does not exist\nError\n    at Query.run (/app/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/app/node_modules/sequelize/lib/model.js:1140:21)\n    at async User.findOne (/app/node_modules/sequelize/lib/model.js:1240:12)\n    at async /app/src/routes/auth.js:431:16","os":{"loadavg":[3.71,3.75,3.77],"uptime":20087.3},"process":{"argv":["/usr/local/bin/node","/app/src/index.js"],"cwd":"/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":105025,"external":3055872,"heapTotal":28110848,"heapUsed":26041568,"rss":85385216},"pid":63,"uid":0,"version":"v18.20.8"},"rejection":true,"service":"ecommerce-api","stack":"Error\n    at Query.run (/app/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/app/node_modules/sequelize/lib/model.js:1140:21)\n    at async User.findOne (/app/node_modules/sequelize/lib/model.js:1240:12)\n    at async /app/src/routes/auth.js:431:16","timestamp":"2025-06-18 14:08:35","trace":[{"column":25,"file":"/app/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.select","line":407,"method":"select","native":false},{"column":21,"file":"/app/node_modules/sequelize/lib/model.js","function":"async User.findAll","line":1140,"method":"findAll","native":false},{"column":12,"file":"/app/node_modules/sequelize/lib/model.js","function":"async User.findOne","line":1240,"method":"findOne","native":false},{"column":16,"file":"async /app/src/routes/auth.js","function":null,"line":431,"method":null,"native":false}],"version":"1.0.0"}
{"date":"Wed Jun 18 2025 14:41:41 GMT+0000 (Coordinated Universal Time)","error":{},"level":"error","message":"unhandledRejection: Op is not defined\nReferenceError: Op is not defined\n    at /app/src/routes/auth.js:375:32\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:284:15\n    at param (/app/node_modules/express/lib/router/index.js:365:14)\n    at param (/app/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:421:3)\n    at next (/app/node_modules/express/lib/router/index.js:280:10)","os":{"loadavg":[3.12,3.74,3.66],"uptime":22073.79},"process":{"argv":["/usr/local/bin/node","/app/src/index.js"],"cwd":"/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":91578,"external":3042265,"heapTotal":29159424,"heapUsed":26815400,"rss":100417536},"pid":133,"uid":0,"version":"v18.20.8"},"rejection":true,"service":"ecommerce-api","stack":"ReferenceError: Op is not defined\n    at /app/src/routes/auth.js:375:32\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:284:15\n    at param (/app/node_modules/express/lib/router/index.js:365:14)\n    at param (/app/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:421:3)\n    at next (/app/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-06-18 14:41:41","trace":[{"column":32,"file":"/app/src/routes/auth.js","function":null,"line":375,"method":null,"native":false},{"column":5,"file":"/app/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/app/node_modules/express/lib/router/route.js","function":"next","line":149,"method":null,"native":false},{"column":3,"file":"/app/node_modules/express/lib/router/route.js","function":"Route.dispatch","line":119,"method":"dispatch","native":false},{"column":5,"file":"/app/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"/app/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":14,"file":"/app/node_modules/express/lib/router/index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"/app/node_modules/express/lib/router/index.js","function":"param","line":376,"method":null,"native":false},{"column":3,"file":"/app/node_modules/express/lib/router/index.js","function":"Function.process_params","line":421,"method":"process_params","native":false},{"column":10,"file":"/app/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false}],"version":"1.0.0"}
{"date":"Wed Jun 18 2025 14:56:08 GMT+0000 (Coordinated Universal Time)","error":{},"level":"error","message":"unhandledRejection: user is not defined\nReferenceError: user is not defined\n    at /app/src/routes/auth.js:363:47\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[3.89,3.37,3.37],"uptime":22940.37},"process":{"argv":["/usr/local/bin/node","/app/src/index.js"],"cwd":"/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":91869,"external":3042556,"heapTotal":29159424,"heapUsed":26516080,"rss":91971584},"pid":348,"uid":0,"version":"v18.20.8"},"rejection":true,"service":"ecommerce-api","stack":"ReferenceError: user is not defined\n    at /app/src/routes/auth.js:363:47\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-06-18 14:56:08","trace":[{"column":47,"file":"/app/src/routes/auth.js","function":null,"line":363,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 12:10:41 GMT+0000 (Coordinated Universal Time)","error":{},"level":"error","message":"unhandledRejection: invoicePath is not defined\nReferenceError: invoicePath is not defined\n    at EmailService.sendOrderConfirmation (/app/src/services/emailService.js:143:18)\n    at /app/src/routes/payments.js:270:28","os":{"loadavg":[3.24,3.39,3.74],"uptime":15860.01},"process":{"argv":["/usr/local/bin/node","/app/src/index.js"],"cwd":"/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":800326,"external":3753765,"heapTotal":80678912,"heapUsed":41302184,"rss":158011392},"pid":217,"uid":0,"version":"v18.20.8"},"rejection":true,"service":"ecommerce-api","stack":"ReferenceError: invoicePath is not defined\n    at EmailService.sendOrderConfirmation (/app/src/services/emailService.js:143:18)\n    at /app/src/routes/payments.js:270:28","timestamp":"2025-06-19 12:10:41","trace":[{"column":18,"file":"/app/src/services/emailService.js","function":"EmailService.sendOrderConfirmation","line":143,"method":"sendOrderConfirmation","native":false},{"column":28,"file":"/app/src/routes/payments.js","function":null,"line":270,"method":null,"native":false}],"version":"1.0.0"}
{"date":"Fri Jun 20 2025 14:47:51 GMT+0000 (Coordinated Universal Time)","error":{"code":"MODULE_NOT_FOUND","requireStack":["/app/src/routes/admin.js","/app/src/index.js"]},"level":"error","message":"unhandledRejection: Cannot find module 'sequelize'\nRequire stack:\n- /app/src/routes/admin.js\n- /app/src/index.js\nError: Cannot find module 'sequelize'\nRequire stack:\n- /app/src/routes/admin.js\n- /app/src/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)\n    at Module._load (node:internal/modules/cjs/loader:981:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at /app/src/routes/admin.js:166:18\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at /app/src/middlewares/roleAuth.js:34:7\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)","os":{"loadavg":[3.02,3.47,3.68],"uptime":25816.39},"process":{"argv":["/usr/local/bin/node","/app/src/index.js"],"cwd":"/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":549184,"external":3500159,"heapTotal":38998016,"heapUsed":36258232,"rss":114180096},"pid":35,"uid":0,"version":"v18.20.8"},"rejection":true,"service":"ecommerce-api","stack":"Error: Cannot find module 'sequelize'\nRequire stack:\n- /app/src/routes/admin.js\n- /app/src/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)\n    at Module._load (node:internal/modules/cjs/loader:981:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at /app/src/routes/admin.js:166:18\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at /app/src/middlewares/roleAuth.js:34:7\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)","timestamp":"2025-06-20 14:47:51","trace":[{"column":15,"file":"node:internal/modules/cjs/loader","function":"Module._resolveFilename","line":1140,"method":"_resolveFilename","native":false},{"column":27,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":981,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1231,"method":"require","native":false},{"column":18,"file":"node:internal/modules/helpers","function":"require","line":177,"method":null,"native":false},{"column":18,"file":"/app/src/routes/admin.js","function":null,"line":166,"method":null,"native":false},{"column":5,"file":"/app/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/app/node_modules/express/lib/router/route.js","function":"next","line":149,"method":null,"native":false},{"column":7,"file":"/app/src/middlewares/roleAuth.js","function":null,"line":34,"method":null,"native":false},{"column":5,"file":"/app/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/app/node_modules/express/lib/router/route.js","function":"next","line":149,"method":null,"native":false}],"version":"1.0.0"}
