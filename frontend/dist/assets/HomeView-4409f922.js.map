{"version":3,"file":"HomeView-4409f922.js","sources":["../../src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- Hero Section -->\n    <section class=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-20\">\n      <div class=\"container mx-auto px-4 text-center\">\n        <h1 class=\"text-5xl font-bold mb-4\">Bienvenue chez MambaFit</h1>\n        <p class=\"text-xl mb-8\">Votre partenaire pour une vie sportive épanouie</p>\n        <router-link to=\"/products\" class=\"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors\">\n          Découvrir nos produits\n        </router-link>\n      </div>\n    </section>\n\n    <!-- Products Section -->\n    <section class=\"py-16\">\n      <div class=\"container mx-auto px-4\">\n        <h2 class=\"text-3xl font-bold text-center mb-12\">Nos Produits Phares</h2>\n        \n        <div v-if=\"loading\" class=\"text-center\">\n          <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <p class=\"mt-2\">Chargement des produits...</p>\n        </div>\n\n        <div v-else-if=\"error\" class=\"text-center text-red-600\">\n          <p>{{ error }}</p>\n        </div>\n\n        <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          <div v-for=\"product in products\" :key=\"product.id\" class=\"card hover:shadow-lg transition-shadow\">\n            <div class=\"aspect-w-1 aspect-h-1 bg-gray-200 rounded-t-lg overflow-hidden\">\n              <img \n                :src=\"getProductImage(product)\" \n                :alt=\"product.name\"\n                class=\"w-full h-48 object-cover\"\n              >\n            </div>\n            <div class=\"card-body\">\n              <h3 class=\"font-semibold text-lg mb-2\">{{ product.name }}</h3>\n              <p class=\"text-gray-600 text-sm mb-3 line-clamp-2\">{{ product.description }}</p>\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center space-x-2\">\n                  <span v-if=\"product.isOnSale\" class=\"text-red-500 font-bold\">\n                    {{ product.salePrice }}€\n                  </span>\n                  <span :class=\"product.isOnSale ? 'line-through text-gray-400' : 'font-bold text-gray-900'\">\n                    {{ product.price }}€\n                  </span>\n                </div>\n                <button \n                  @click=\"addToCart(product)\"\n                  :disabled=\"!product.stockQuantity\"\n                  class=\"btn btn-primary btn-sm\"\n                  :class=\"{ 'opacity-50 cursor-not-allowed': !product.stockQuantity }\"\n                >\n                  {{ product.stockQuantity ? 'Ajouter' : 'Rupture' }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Voir plus -->\n        <div class=\"text-center mt-12\">\n          <router-link to=\"/products\" class=\"btn btn-outline\">\n            Voir tous nos produits\n          </router-link>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { productService } from '@/services/api'\nimport { useToast } from 'vue-toastification'\nimport type { Product } from '@/types/product'\n\nconst cartStore = useCartStore()\nconst toast = useToast()\nconst products = ref<Product[]>([])\nconst loading = ref(true)\nconst error = ref<string | null>(null)\n\n// Mapping des images par catégorie\nconst categoryImages: Record<string, string> = {\n  'chaussures': '/images/categories/chaussures.jpg',\n  'musculation': '/images/categories/musculation.jpg',\n  'yoga-pilates': '/images/categories/yoga.jpg',\n  'electronique-sport': '/images/categories/electronique.jpg',\n  'accessoires': '/images/categories/accessoires.jpg',\n  'nutrition': '/images/categories/nutrition.jpg',\n  'cardio': '/images/categories/cardio.jpg',\n  'sports-combat': '/images/categories/combat.jpg'\n}\n\nconst getProductImage = (product: Product) => {\n  if (product.category?.slug) {\n    return categoryImages[product.category.slug] || '/placeholder.jpg'\n  }\n  return '/placeholder.jpg'\n}\n\nconst addToCart = async (product: Product) => {\n  try {\n    // Convertir le produit au format attendu par le cart store\n    const cartProduct = {\n      ...product,\n      _id: product.id.toString(),\n      stock: {\n        quantity: product.stockQuantity,\n        reserved: 0,\n        lowStockThreshold: 5\n      },\n      images: [{ url: getProductImage(product), alt: product.name, isPrimary: true }]\n    }\n    \n    await cartStore.addItem(cartProduct as any, 1)\n  } catch (error) {\n    console.error('Erreur lors de l\\'ajout au panier:', error)\n    toast.error('Erreur lors de l\\'ajout au panier')\n  }\n}\n\nconst loadProducts = async () => {\n  try {\n    loading.value = true\n    error.value = null\n    \n    // Charger les produits phares (en promotion ou les plus populaires)\n    const response = await productService.getProducts({\n      limit: 8,\n      sortBy: 'createdAt',\n      sortOrder: 'desc'\n    })\n    \n    if (response.success && response.data && response.data.products) {\n      products.value = response.data.products\n    } else {\n      error.value = 'Erreur lors du chargement des produits'\n    }\n  } catch (err) {\n    console.error('Erreur lors du chargement des produits:', err)\n    error.value = 'Erreur lors du chargement des produits'\n  } finally {\n    loading.value = false\n  }\n}\n\nonMounted(() => {\n  loadProducts()\n})\n</script> "],"names":["cartStore","useCartStore","toast","useToast","products","ref","loading","error","categoryImages","getProductImage","product","_a","addToCart","cartProduct","loadProducts","response","productService","err","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","_createVNode","_component_router_link","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","_hoisted_9","_hoisted_11","_hoisted_12","_toDisplayString","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_normalizeClass","$event","_hoisted_17","_hoisted_18"],"mappings":"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"}