{"version":3,"file":"ProductModal.vue_vue_type_script_setup_true_lang-4b49ce0c.js","sources":["../../src/components/ProductModal.vue"],"sourcesContent":["<template>\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n    <div class=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n      <!-- Header -->\n      <div class=\"flex justify-between items-center p-6 border-b\">\n        <h2 class=\"text-2xl font-bold\">{{ product.name }}</h2>\n        <button @click=\"$emit('close')\" class=\"text-gray-500 hover:text-gray-700\">\n          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n          </svg>\n        </button>\n      </div>\n\n      <!-- Contenu -->\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8 p-6\">\n        <!-- Images -->\n        <div>\n          <div class=\"aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden mb-4\">\n            <img \n              :src=\"selectedImage?.url || '/placeholder.jpg'\" \n              :alt=\"product.name\"\n              class=\"w-full h-96 object-cover\"\n            >\n            <!-- Badges -->\n            <div v-if=\"product.isOnSale\" class=\"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold\">\n              PROMOTION\n            </div>\n            <div v-if=\"product.stock.quantity <= 5\" class=\"absolute top-4 right-4 bg-orange-500 text-white px-3 py-1 rounded-full text-sm\">\n              Stock faible\n            </div>\n          </div>\n\n          <!-- Miniatures -->\n          <div v-if=\"product.images.length > 1\" class=\"flex space-x-2\">\n            <button \n              v-for=\"(image, index) in product.images\" \n              :key=\"index\"\n              @click=\"selectedImage = image\"\n              class=\"w-16 h-16 bg-gray-200 rounded overflow-hidden border-2\"\n              :class=\"selectedImage === image ? 'border-blue-500' : 'border-transparent'\"\n            >\n              <img :src=\"image.url\" :alt=\"image.alt\" class=\"w-full h-full object-cover\">\n            </button>\n          </div>\n        </div>\n\n        <!-- D√©tails -->\n        <div>\n          <!-- Prix -->\n          <div class=\"mb-6\">\n            <div class=\"flex items-center space-x-3 mb-2\">\n              <span v-if=\"product.isOnSale\" class=\"text-3xl font-bold text-red-500\">\n                {{ product.salePrice }}‚Ç¨\n              </span>\n              <span :class=\"product.isOnSale ? 'line-through text-gray-400 text-xl' : 'text-3xl font-bold text-gray-900'\">\n                {{ product.price }}‚Ç¨\n              </span>\n            </div>\n            <div v-if=\"product.isOnSale\" class=\"text-sm text-green-600 font-medium\">\n              √âconomisez {{ (product.price - (product.salePrice || 0)).toFixed(2) }}‚Ç¨\n            </div>\n          </div>\n\n          <!-- Description -->\n          <div class=\"mb-6\">\n            <h3 class=\"text-lg font-semibold mb-2\">Description</h3>\n            <p class=\"text-gray-700 leading-relaxed\">{{ product.description }}</p>\n          </div>\n\n          <!-- Informations produit -->\n          <div class=\"mb-6\">\n            <h3 class=\"text-lg font-semibold mb-3\">Informations</h3>\n            <div class=\"space-y-2 text-sm\">\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Cat√©gorie :</span>\n                <span class=\"font-medium\">{{ product.category.name }}</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Stock disponible :</span>\n                <span class=\"font-medium\" :class=\"product.stock.quantity > 0 ? 'text-green-600' : 'text-red-600'\">\n                  {{ product.stock.quantity }} unit√©(s)\n                </span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">Note moyenne :</span>\n                <div class=\"flex items-center\">\n                  <div class=\"flex text-yellow-400 mr-1\">\n                    <span v-for=\"i in 5\" :key=\"i\" class=\"text-sm\">\n                      {{ i <= Math.floor(product.rating.average) ? '‚òÖ' : '‚òÜ' }}\n                    </span>\n                  </div>\n                  <span class=\"text-sm text-gray-600\">({{ product.rating.count }} avis)</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quantit√© et ajout au panier -->\n          <div class=\"mb-6\">\n            <div class=\"flex items-center space-x-4 mb-4\">\n              <label class=\"text-sm font-medium text-gray-700\">Quantit√© :</label>\n              <div class=\"flex items-center border border-gray-300 rounded\">\n                <button \n                  @click=\"quantity > 1 && quantity--\"\n                  :disabled=\"quantity <= 1\"\n                  class=\"px-3 py-1 hover:bg-gray-100 disabled:opacity-50\"\n                >\n                  -\n                </button>\n                <input \n                  v-model.number=\"quantity\" \n                  type=\"number\" \n                  min=\"1\" \n                  :max=\"product.stock.quantity\"\n                  class=\"w-16 text-center border-0 focus:ring-0\"\n                >\n                <button \n                  @click=\"quantity < product.stock.quantity && quantity++\"\n                  :disabled=\"quantity >= product.stock.quantity\"\n                  class=\"px-3 py-1 hover:bg-gray-100 disabled:opacity-50\"\n                >\n                  +\n                </button>\n              </div>\n            </div>\n\n            <button \n              @click=\"handleAddToCart\"\n              :disabled=\"!product.stock.quantity || isAdding\"\n              class=\"w-full btn btn-primary py-3 text-lg\"\n              :class=\"{ 'opacity-50 cursor-not-allowed': !product.stock.quantity || isAdding }\"\n            >\n              <span v-if=\"isAdding\" class=\"flex items-center justify-center\">\n                <div class=\"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                Ajout en cours...\n              </span>\n              <span v-else>\n                {{ product.stock.quantity ? `Ajouter au panier (${quantity})` : 'Rupture de stock' }}\n              </span>\n            </button>\n          </div>\n\n          <!-- Actions suppl√©mentaires -->\n          <div class=\"flex space-x-3\">\n            <button class=\"flex-1 btn btn-outline\">\n              ‚ù§Ô∏è Ajouter aux favoris\n            </button>\n            <button class=\"flex-1 btn btn-outline\">\n              üì§ Partager\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue'\nimport type { Product } from '../types/product'\n\ninterface Props {\n  product: Product\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<{\n  close: []\n  'add-to-cart': [product: Product, quantity: number]\n}>()\n\nconst selectedImage = ref(props.product.images[0])\nconst quantity = ref(1)\nconst isAdding = ref(false)\n\nconst handleAddToCart = async () => {\n  isAdding.value = true\n  try {\n    emit('add-to-cart', props.product, quantity.value)\n    // Petite pause pour l'UX\n    await new Promise(resolve => setTimeout(resolve, 500))\n  } finally {\n    isAdding.value = false\n  }\n}\n\nonMounted(() => {\n  // Emp√™cher le scroll du body quand la modal est ouverte\n  document.body.style.overflow = 'hidden'\n  \n  // Nettoyer au d√©montage\n  return () => {\n    document.body.style.overflow = 'auto'\n  }\n})\n</script> "],"names":["props","__props","emit","__emit","selectedImage","ref","quantity","isAdding","handleAddToCart","resolve","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","product","$emit","_hoisted_5","_hoisted_6","_a","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","image","index","$event","_normalizeClass","_hoisted_13","_hoisted_14","_hoisted_15","_toDisplayString","_hoisted_16","_hoisted_17","_cache","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_renderList","i","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_35"],"mappings":"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"}