import{d as w,r as p,o as _,c as l,b as t,t as d,j as i,F as v,f as y,n as u,l as j,v as C,i as q,h as n}from"./index-c65d1cd2.js";const M={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},O={class:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto"},S={class:"flex justify-between items-center p-6 border-b"},P={class:"text-2xl font-bold"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6"},A={class:"aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden mb-4"},N=["src","alt"],T={key:0,class:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold"},B={key:1,class:"absolute top-4 right-4 bg-orange-500 text-white px-3 py-1 rounded-full text-sm"},V={key:0,class:"flex space-x-2"},z=["onClick"],D=["src","alt"],F={class:"mb-6"},I={class:"flex items-center space-x-3 mb-2"},L={key:0,class:"text-3xl font-bold text-red-500"},R={key:0,class:"text-sm text-green-600 font-medium"},E={class:"mb-6"},Q={class:"text-gray-700 leading-relaxed"},U={class:"mb-6"},G={class:"space-y-2 text-sm"},H={class:"flex justify-between"},J={class:"font-medium"},K={class:"flex justify-between"},W={class:"flex justify-between"},X={class:"flex items-center"},Y={class:"flex text-yellow-400 mr-1"},Z={class:"text-sm text-gray-600"},tt={class:"mb-6"},et={class:"flex items-center space-x-4 mb-4"},st={class:"flex items-center border border-gray-300 rounded"},ot=["disabled"],lt=["max"],nt=["disabled"],at=["disabled"],dt={key:0,class:"flex items-center justify-center"},rt={key:1},ct=w({__name:"ProductModal",props:{product:{}},emits:["close","add-to-cart"],setup(f,{emit:g}){const b=f,x=g,c=p(b.product.images[0]),a=p(1),r=p(!1),h=async()=>{r.value=!0;try{x("add-to-cart",b.product,a.value),await new Promise(e=>setTimeout(e,500))}finally{r.value=!1}};return _(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"})),(e,s)=>{var m;return n(),l("div",M,[t("div",O,[t("div",S,[t("h2",P,d(e.product.name),1),t("button",{onClick:s[0]||(s[0]=o=>e.$emit("close")),class:"text-gray-500 hover:text-gray-700"},s[4]||(s[4]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",$,[t("div",null,[t("div",A,[t("img",{src:((m=c.value)==null?void 0:m.url)||"/placeholder.jpg",alt:e.product.name,class:"w-full h-96 object-cover"},null,8,N),e.product.isOnSale?(n(),l("div",T," PROMOTION ")):i("",!0),e.product.stock.quantity<=5?(n(),l("div",B," Stock faible ")):i("",!0)]),e.product.images.length>1?(n(),l("div",V,[(n(!0),l(v,null,y(e.product.images,(o,k)=>(n(),l("button",{key:k,onClick:it=>c.value=o,class:u(["w-16 h-16 bg-gray-200 rounded overflow-hidden border-2",c.value===o?"border-blue-500":"border-transparent"])},[t("img",{src:o.url,alt:o.alt,class:"w-full h-full object-cover"},null,8,D)],10,z))),128))])):i("",!0)]),t("div",null,[t("div",F,[t("div",I,[e.product.isOnSale?(n(),l("span",L,d(e.product.salePrice)+"‚Ç¨ ",1)):i("",!0),t("span",{class:u(e.product.isOnSale?"line-through text-gray-400 text-xl":"text-3xl font-bold text-gray-900")},d(e.product.price)+"‚Ç¨ ",3)]),e.product.isOnSale?(n(),l("div",R," √âconomisez "+d((e.product.price-(e.product.salePrice||0)).toFixed(2))+"‚Ç¨ ",1)):i("",!0)]),t("div",E,[s[5]||(s[5]=t("h3",{class:"text-lg font-semibold mb-2"},"Description",-1)),t("p",Q,d(e.product.description),1)]),t("div",U,[s[9]||(s[9]=t("h3",{class:"text-lg font-semibold mb-3"},"Informations",-1)),t("div",G,[t("div",H,[s[6]||(s[6]=t("span",{class:"text-gray-600"},"Cat√©gorie :",-1)),t("span",J,d(e.product.category.name),1)]),t("div",K,[s[7]||(s[7]=t("span",{class:"text-gray-600"},"Stock disponible :",-1)),t("span",{class:u(["font-medium",e.product.stock.quantity>0?"text-green-600":"text-red-600"])},d(e.product.stock.quantity)+" unit√©(s) ",3)]),t("div",W,[s[8]||(s[8]=t("span",{class:"text-gray-600"},"Note moyenne :",-1)),t("div",X,[t("div",Y,[(n(),l(v,null,y(5,o=>t("span",{key:o,class:"text-sm"},d(o<=Math.floor(e.product.rating.average)?"‚òÖ":"‚òÜ"),1)),64))]),t("span",Z,"("+d(e.product.rating.count)+" avis)",1)])])])]),t("div",tt,[t("div",et,[s[10]||(s[10]=t("label",{class:"text-sm font-medium text-gray-700"},"Quantit√© :",-1)),t("div",st,[t("button",{onClick:s[1]||(s[1]=o=>a.value>1&&a.value--),disabled:a.value<=1,class:"px-3 py-1 hover:bg-gray-100 disabled:opacity-50"}," - ",8,ot),j(t("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>a.value=o),type:"number",min:"1",max:e.product.stock.quantity,class:"w-16 text-center border-0 focus:ring-0"},null,8,lt),[[C,a.value,void 0,{number:!0}]]),t("button",{onClick:s[3]||(s[3]=o=>a.value<e.product.stock.quantity&&a.value++),disabled:a.value>=e.product.stock.quantity,class:"px-3 py-1 hover:bg-gray-100 disabled:opacity-50"}," + ",8,nt)])]),t("button",{onClick:h,disabled:!e.product.stock.quantity||r.value,class:u(["w-full btn btn-primary py-3 text-lg",{"opacity-50 cursor-not-allowed":!e.product.stock.quantity||r.value}])},[r.value?(n(),l("span",dt,s[11]||(s[11]=[t("div",{class:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"},null,-1),q(" Ajout en cours... ")]))):(n(),l("span",rt,d(e.product.stock.quantity?`Ajouter au panier (${a.value})`:"Rupture de stock"),1))],10,at)]),s[12]||(s[12]=t("div",{class:"flex space-x-3"},[t("button",{class:"flex-1 btn btn-outline"}," ‚ù§Ô∏è Ajouter aux favoris "),t("button",{class:"flex-1 btn btn-outline"}," üì§ Partager ")],-1))])])])])}}});export{ct as _};
//# sourceMappingURL=ProductModal.vue_vue_type_script_setup_true_lang-4b49ce0c.js.map
