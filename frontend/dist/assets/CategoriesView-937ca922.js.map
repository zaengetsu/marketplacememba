{"version":3,"file":"CategoriesView-937ca922.js","sources":["../../src/views/CategoriesView.vue"],"sourcesContent":["<template>\n  <div class=\"categories-view min-h-screen bg-gray-50\">\n    <div class=\"container mx-auto px-4 py-8\">\n      <!-- Header -->\n      <div class=\"mb-8\">\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Cat√©gories</h1>\n        <p class=\"text-gray-600\">D√©couvrez nos produits par cat√©gorie</p>\n      </div>\n\n      <!-- Search Bar -->\n      <div class=\"mb-8\">\n        <div class=\"relative max-w-md\">\n          <input\n            v-model=\"searchQuery\"\n            type=\"text\"\n            placeholder=\"Rechercher une cat√©gorie...\"\n            class=\"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n          />\n          <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <span class=\"text-gray-400\">üîç</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Loading -->\n      <div v-if=\"loading\" class=\"text-center py-16\">\n        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\n        <p class=\"mt-2\">Chargement des cat√©gories...</p>\n      </div>\n\n      <!-- Categories Grid -->\n      <div v-else-if=\"filteredCategories.length > 0\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        <div\n          v-for=\"category in filteredCategories\"\n          :key=\"category.id\"\n          class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 group cursor-pointer\"\n          @click=\"navigateToCategory(category)\"\n        >\n          <!-- Category Image -->\n          <div class=\"relative h-48 overflow-hidden\">\n            <img\n              :src=\"getCategoryImage(category)\"\n              :alt=\"category.name\"\n              class=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n            />\n            <div class=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent\"></div>\n            \n            <!-- Product Count Badge -->\n            <div class=\"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-medium text-gray-900\">\n              {{ getCategoryProductCount(category) }} produits\n            </div>\n            \n            <!-- Category Icon -->\n            <div class=\"absolute bottom-4 left-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-2xl\">\n              {{ getCategoryIcon(category) }}\n            </div>\n          </div>\n\n          <!-- Category Info -->\n          <div class=\"p-6\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-2 group-hover:text-orange-600 transition-colors\">\n              {{ category.name }}\n            </h3>\n            <p class=\"text-gray-600 text-sm mb-4 line-clamp-2\">\n              {{ category.description }}\n            </p>\n\n            <!-- Action Button -->\n            <button class=\"w-full px-4 py-2 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-lg hover:from-orange-600 hover:to-red-700 transition-all font-medium group-hover:shadow-md\">\n              Explorer {{ category.name }}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"!loading\" class=\"text-center py-16\">\n        <div class=\"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\">\n          <span class=\"text-4xl\">üîç</span>\n        </div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Aucune cat√©gorie trouv√©e</h3>\n        <p class=\"text-gray-600 mb-6\">Essayez avec un autre terme de recherche</p>\n        <button\n          @click=\"searchQuery = ''\"\n          class=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-lg hover:from-orange-600 hover:to-red-700 transition-all\"\n        >\n          Voir toutes les cat√©gories\n        </button>\n      </div>\n\n      <!-- Featured Categories Section -->\n      <div v-if=\"!searchQuery && featuredCategories.length > 0\" class=\"mt-16\">\n        <h2 class=\"text-2xl font-bold text-gray-900 mb-8\">Cat√©gories en vedette</h2>\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          <div\n            v-for=\"featured in featuredCategories\"\n            :key=\"featured.id\"\n            class=\"relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer group\"\n            @click=\"navigateToCategory(featured)\"\n          >\n            <div class=\"flex\">\n              <!-- Image -->\n              <div class=\"w-1/3 relative\">\n                <img\n                  :src=\"getCategoryImage(featured)\"\n                  :alt=\"featured.name\"\n                  class=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                />\n              </div>\n              \n              <!-- Content -->\n              <div class=\"w-2/3 p-6 flex flex-col justify-center\">\n                <div class=\"flex items-center mb-2\">\n                  <span class=\"text-2xl mr-3\">{{ getCategoryIcon(featured) }}</span>\n                  <h3 class=\"text-xl font-semibold text-gray-900 group-hover:text-orange-600 transition-colors\">\n                    {{ featured.name }}\n                  </h3>\n                </div>\n                <p class=\"text-gray-600 mb-4\">{{ featured.description }}</p>\n                <div class=\"flex items-center justify-between\">\n                  <span class=\"text-sm text-gray-500\">{{ getCategoryProductCount(featured) }} produits</span>\n                  <span class=\"text-orange-600 font-medium group-hover:text-orange-700\">\n                    Explorer ‚Üí\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { categoryService, productService } from '../services/api'\nimport type { Category } from '../types/product'\nimport { useToast } from 'vue-toastification'\n\nconst router = useRouter()\nconst toast = useToast()\nconst searchQuery = ref('')\nconst loading = ref(true)\n\nconst categories = ref<Category[]>([])\nconst productCounts = ref<Record<number, number>>({})\n\n// Images et ic√¥nes par cat√©gorie\nconst categoryData: Record<string, { image: string; icon: string }> = {\n  'chaussures': {\n    image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=600&h=400&fit=crop',\n    icon: 'üëü'\n  },\n  'musculation': {\n    image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&h=400&fit=crop',\n    icon: 'üí™'\n  },\n  'yoga-pilates': {\n    image: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=600&h=400&fit=crop',\n    icon: 'üßò'\n  },\n  'electronique-sport': {\n    image : 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=600&h=400&fit=crop',\n    icon  : '‚åö'\n  },        \n  'accessoires': {\n    image: 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=600&h=400&fit=crop',\n    icon: 'üéí'\n  },\n  'nutrition': {\n    image: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=600&h=400&fit=crop',\n    icon: 'ü•§'\n  },\n  'cardio': {\n    image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&h=400&fit=crop',\n    icon: 'üèÉ'\n  },\n  'sports-combat': {\n    image: 'https://images.unsplash.com/photo-1549719386-74dfcbf7dbed?w=600&h=400&fit=crop',\n    icon: 'ü•ä'\n  }\n}\n\nconst featuredCategories = computed(() => \n  categories.value.filter(cat => ['chaussures', 'musculation', 'yoga-pilates', 'electronique-sport'].includes(cat.slug))\n)\n\nconst filteredCategories = computed(() => {\n  if (!searchQuery.value) return categories.value\n  \n  return categories.value.filter(category =>\n    category.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\n    category.description.toLowerCase().includes(searchQuery.value.toLowerCase())\n  )\n})\n\nconst loadCategories = async () => {\n  try {\n    const response = await categoryService.getCategories()\n    if (response.success && response.data) {\n      categories.value = response.data.filter((cat: Category) => cat.isActive)\n    }\n  } catch (error) {\n    console.error('Erreur lors du chargement des cat√©gories:', error)\n    toast.error('Erreur lors du chargement des cat√©gories')\n  }\n}\n\nconst loadProductCounts = async () => {\n  try {\n    // Charger le nombre de produits pour chaque cat√©gorie\n    for (const category of categories.value) {\n      const response = await productService.getProducts({\n        category: category.id.toString(),\n        limit: 1 // On veut juste le total, pas les produits\n      })\n      \n      if (response.success && response.data) {\n        productCounts.value[category.id] = response.data.pagination.total\n      }\n    }\n  } catch (error) {\n    console.error('Erreur lors du chargement des compteurs:', error)\n    // Ne pas afficher d'erreur pour les compteurs, utiliser des valeurs par d√©faut\n  }\n}\n\nconst getCategoryImage = (category: Category) => {\n  return categoryData[category.slug]?.image || categoryData['accessoires'].image\n}\n\nconst getCategoryIcon = (category: Category) => {\n  return categoryData[category.slug]?.icon || 'üèÉ'\n}\n\nconst getCategoryProductCount = (category: Category) => {\n  return productCounts.value[category.id] || 0\n}\n\nconst navigateToCategory = (category: Category) => {\n  router.push({\n    path: '/products',\n    query: { category: category.slug }\n  })\n}\n\nonMounted(async () => {\n  loading.value = true\n  try {\n    await loadCategories()\n    await loadProductCounts()\n  } finally {\n    loading.value = false\n  }\n})\n</script>\n\n<style scoped>\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style> "],"names":["router","useRouter","toast","useToast","searchQuery","ref","loading","categories","productCounts","categoryData","featuredCategories","computed","cat","filteredCategories","category","loadCategories","response","categoryService","error","loadProductCounts","productService","getCategoryImage","_a","getCategoryIcon","getCategoryProductCount","navigateToCategory","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","$event","_hoisted_5","_cache","_hoisted_6","_Fragment","_renderList","_hoisted_8","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","featured","_hoisted_20","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29"],"mappings":"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"}