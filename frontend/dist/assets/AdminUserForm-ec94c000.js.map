{"version":3,"file":"AdminUserForm-ec94c000.js","sources":["../../src/views/admin/AdminUserForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto px-4 py-8\">\r\n    <h1 class=\"text-2xl font-bold mb-4\">Créer un nouvel utilisateur</h1>\r\n    <form class=\"max-w-lg space-y-4\" @submit.prevent=\"handleSubmit\">\r\n      <input v-model=\"firstName\" class=\"input input-bordered w-full\" placeholder=\"Prénom\" required />\r\n      <input v-model=\"lastName\" class=\"input input-bordered w-full\" placeholder=\"Nom\" required />\r\n      <input v-model=\"email\" class=\"input input-bordered w-full\" placeholder=\"Email\" type=\"email\" required />\r\n      <input v-model=\"password\" class=\"input input-bordered w-full\" placeholder=\"Mot de passe\" type=\"password\" required />\r\n      <select v-model=\"role\" class=\"input input-bordered w-full\" required>\r\n        <option value=\"ROLE_USER\">ROLE_USER</option>\r\n        <option value=\"ROLE_ADMIN\">ROLE_ADMIN</option>\r\n        <option value=\"ROLE_STORE_KEEPER\">ROLE_STORE_KEEPER</option>\r\n        <option value=\"ROLE_COMPTA\">ROLE_COMPTA</option>\r\n      </select>\r\n      <button class=\"btn btn-primary\" type=\"submit\">\r\n        Créer\r\n      </button>\r\n      <div v-if=\"message\" class=\"mt-2 text-green-600\">{{ message }}</div>\r\n      <div v-if=\"error\" class=\"mt-2 text-red-600\">{{ error }}</div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport apiClient from '@/services/api'\r\n\r\nconst firstName = ref('')\r\nconst lastName = ref('')\r\nconst email = ref('')\r\nconst password = ref('')\r\nconst role = ref('ROLE_USER')\r\nconst message = ref('')\r\nconst error = ref('')\r\n\r\nconst handleSubmit = async () => {\r\n  message.value = ''\r\n  error.value = ''\r\n  try {\r\n    const response = await apiClient.post('/admin/users', {\r\n      firstName: firstName.value,\r\n      lastName: lastName.value,\r\n      email: email.value,\r\n      password: password.value,\r\n      role: role.value\r\n    })\r\n    if (response.data.success) {\r\n      message.value = 'Utilisateur créé avec succès !'\r\n      // Optionnel : reset le formulaire\r\n      firstName.value = ''\r\n      lastName.value = ''\r\n      email.value = ''\r\n      password.value = ''\r\n      role.value = 'ROLE_USER'\r\n    } else {\r\n      error.value = response.data.message || 'Erreur lors de la création'\r\n    }\r\n  } catch (e: any) {\r\n    error.value = e.response?.data?.message || 'Erreur lors de la création'\r\n  }\r\n}\r\n</script>"],"names":["firstName","ref","lastName","email","password","role","message","error","handleSubmit","response","apiClient","e","_b","_a","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","$event","_hoisted_2","_toDisplayString","_hoisted_3"],"mappings":"6QA2BM,MAAAA,EAAYC,EAAI,EAAE,EAClBC,EAAWD,EAAI,EAAE,EACjBE,EAAQF,EAAI,EAAE,EACdG,EAAWH,EAAI,EAAE,EACjBI,EAAOJ,EAAI,WAAW,EACtBK,EAAUL,EAAI,EAAE,EAChBM,EAAQN,EAAI,EAAE,EAEdO,EAAe,SAAY,SAC/BF,EAAQ,MAAQ,GAChBC,EAAM,MAAQ,GACV,GAAA,CACF,MAAME,EAAW,MAAMC,EAAU,KAAK,eAAgB,CACpD,UAAWV,EAAU,MACrB,SAAUE,EAAS,MACnB,MAAOC,EAAM,MACb,SAAUC,EAAS,MACnB,KAAMC,EAAK,KAAA,CACZ,EACGI,EAAS,KAAK,SAChBH,EAAQ,MAAQ,iCAEhBN,EAAU,MAAQ,GAClBE,EAAS,MAAQ,GACjBC,EAAM,MAAQ,GACdC,EAAS,MAAQ,GACjBC,EAAK,MAAQ,aAEPE,EAAA,MAAQE,EAAS,KAAK,SAAW,mCAElCE,EAAQ,CACfJ,EAAM,QAAQK,GAAAC,EAAAF,EAAE,WAAF,YAAAE,EAAY,OAAZ,YAAAD,EAAkB,UAAW,4BAC7C,CAAA,gBA1DAE,EAAA,EAAAC,EAmBM,MAnBNC,EAmBM,CAlBJC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAoE,KAAhE,CAAA,MAAM,2BAA0B,8BAA2B,EAAA,GAC/DA,EAgBO,OAAA,CAhBD,MAAM,qBAAsB,WAAgBV,EAAY,CAAA,SAAA,CAAA,CAAA,KAC5DU,EAA+F,QAAA,sCAA/ElB,EAAS,MAAAmB,GAAE,MAAM,8BAA8B,YAAY,SAAS,SAAA,EAAA,gBAApEnB,EAAS,KAAA,CAAA,KACzBkB,EAA2F,QAAA,sCAA3EhB,EAAQ,MAAAiB,GAAE,MAAM,8BAA8B,YAAY,MAAM,SAAA,EAAA,gBAAhEjB,EAAQ,KAAA,CAAA,KACxBgB,EAAuG,QAAA,sCAAvFf,EAAK,MAAAgB,GAAE,MAAM,8BAA8B,YAAY,QAAQ,KAAK,QAAQ,SAAA,EAAA,gBAA5EhB,EAAK,KAAA,CAAA,KACrBe,EAAoH,QAAA,sCAApGd,EAAQ,MAAAe,GAAE,MAAM,8BAA8B,YAAY,eAAe,KAAK,WAAW,SAAA,EAAA,gBAAzFf,EAAQ,KAAA,CAAA,KACxBc,EAKS,SAAA,sCALQb,EAAI,MAAAc,GAAE,MAAM,8BAA8B,SAAA,iBACzDD,EAA4C,SAApC,CAAA,MAAM,aAAY,YAAS,EAAA,EACnCA,EAA8C,SAAtC,CAAA,MAAM,cAAa,aAAU,EAAA,EACrCA,EAA4D,SAApD,CAAA,MAAM,qBAAoB,oBAAiB,EAAA,EACnDA,EAAgD,SAAxC,CAAA,MAAM,eAAc,cAAW,EAAA,CAAA,YAJxBb,EAAI,KAAA,CAAA,eAMrBa,EAES,SAAA,CAFD,MAAM,kBAAkB,KAAK,QAAA,EAAS,UAE9C,EAAA,GACWZ,EAAO,WAAlBS,EAAmE,MAAnEK,EAAmEC,EAAhBf,EAAO,KAAA,EAAA,CAAA,YAC/CC,EAAK,WAAhBQ,EAA6D,MAA7DO,EAA6DD,EAAdd,EAAK,KAAA,EAAA,CAAA"}