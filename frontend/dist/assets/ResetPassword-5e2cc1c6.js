import{d as v,r as n,c as o,z as f,b as t,l as x,v as b,t as w,j as y,i as h,x as k,B as R,h as a}from"./index-c65d1cd2.js";const _={class:"container mx-auto py-16 text-center"},N={key:0,class:"text-red-600 mt-2"},T={key:1,class:"text-green-600 text-xl font-bold"},S=v({__name:"ResetPassword",setup(g){const i=k(),u=R(),r=n(""),s=n(""),l=n(!1),d=i.params.token,c=async()=>{s.value="";try{const e=await(await fetch(`/api/auth/reset-password/${d}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r.value})})).json();e.success?(l.value=!0,setTimeout(()=>{u.push("/")},2e3)):s.value=e.error||"Erreur lors de la réinitialisation."}catch{s.value="Erreur serveur."}};return(p,e)=>(a(),o("div",_,[l.value?(a(),o("div",T,e[3]||(e[3]=[h(" ✅ Mot de passe modifié avec succès !"),t("br",null,null,-1),t("span",null,"Redirection vers l'accueil...",-1)]))):(a(),o("form",{key:0,onSubmit:f(c,["prevent"]),class:"max-w-sm mx-auto bg-white p-6 rounded shadow"},[e[1]||(e[1]=t("h2",{class:"text-xl font-bold mb-4"},"Réinitialiser mon mot de passe",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=m=>r.value=m),type:"password",placeholder:"Nouveau mot de passe",class:"border rounded px-3 py-2 w-full mb-4",required:""},null,512),[[b,r.value]]),e[2]||(e[2]=t("button",{type:"submit",class:"btn btn-primary w-full"},"Réinitialiser",-1)),s.value?(a(),o("div",N,w(s.value),1)):y("",!0)],32))]))}});export{S as default};
//# sourceMappingURL=ResetPassword-5e2cc1c6.js.map
