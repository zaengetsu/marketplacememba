import{d as k,u as j,a as w,r as c,o as C,c as r,b as e,e as m,w as p,t as i,F as P,f as S,p as V,g as E,h as a,i as _,j as B,n as h}from"./index-c65d1cd2.js";const N={class:"home"},Q={class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-20"},T={class:"container mx-auto px-4 text-center"},q={class:"py-16"},F={class:"container mx-auto px-4"},I={key:0,class:"text-center"},O={key:1,class:"text-center text-red-600"},z={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},A={class:"aspect-w-1 aspect-h-1 bg-gray-200 rounded-t-lg overflow-hidden"},D=["src","alt"],M={class:"card-body"},H={class:"font-semibold text-lg mb-2"},L={class:"text-gray-600 text-sm mb-3 line-clamp-2"},R={class:"flex items-center justify-between"},$={class:"flex items-center space-x-2"},G={key:0,class:"text-red-500 font-bold"},J=["onClick","disabled"],K={class:"text-center mt-12"},Y=k({__name:"HomeView",setup(U){const b=j(),v=w(),d=c([]),l=c(!0),n=c(null),y={chaussures:"/images/categories/chaussures.jpg",musculation:"/images/categories/musculation.jpg","yoga-pilates":"/images/categories/yoga.jpg","electronique-sport":"/images/categories/electronique.jpg",accessoires:"/images/categories/accessoires.jpg",nutrition:"/images/categories/nutrition.jpg",cardio:"/images/categories/cardio.jpg","sports-combat":"/images/categories/combat.jpg"},u=s=>{var t;return(t=s.category)!=null&&t.slug&&y[s.category.slug]||"/placeholder.jpg"},x=async s=>{try{const t={...s,_id:s.id.toString(),stock:{quantity:s.stockQuantity,reserved:0,lowStockThreshold:5},images:[{url:u(s),alt:s.name,isPrimary:!0}]};await b.addItem(t,1)}catch(t){console.error("Erreur lors de l'ajout au panier:",t),v.error("Erreur lors de l'ajout au panier")}},f=async()=>{try{l.value=!0,n.value=null;const s=await V.getProducts({limit:8,sortBy:"createdAt",sortOrder:"desc"});s.success&&s.data&&s.data.products?d.value=s.data.products:n.value="Erreur lors du chargement des produits"}catch(s){console.error("Erreur lors du chargement des produits:",s),n.value="Erreur lors du chargement des produits"}finally{l.value=!1}};return C(()=>{f()}),(s,t)=>{const g=E("router-link");return a(),r("div",N,[e("section",Q,[e("div",T,[t[1]||(t[1]=e("h1",{class:"text-5xl font-bold mb-4"},"Bienvenue chez MambaFit",-1)),t[2]||(t[2]=e("p",{class:"text-xl mb-8"},"Votre partenaire pour une vie sportive épanouie",-1)),m(g,{to:"/products",class:"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors"},{default:p(()=>t[0]||(t[0]=[_(" Découvrir nos produits ")])),_:1,__:[0]})])]),e("section",q,[e("div",F,[t[5]||(t[5]=e("h2",{class:"text-3xl font-bold text-center mb-12"},"Nos Produits Phares",-1)),l.value?(a(),r("div",I,t[3]||(t[3]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2"},"Chargement des produits...",-1)]))):n.value?(a(),r("div",O,[e("p",null,i(n.value),1)])):(a(),r("div",z,[(a(!0),r(P,null,S(d.value,o=>(a(),r("div",{key:o.id,class:"card hover:shadow-lg transition-shadow"},[e("div",A,[e("img",{src:u(o),alt:o.name,class:"w-full h-48 object-cover"},null,8,D)]),e("div",M,[e("h3",H,i(o.name),1),e("p",L,i(o.description),1),e("div",R,[e("div",$,[o.isOnSale?(a(),r("span",G,i(o.salePrice)+"€ ",1)):B("",!0),e("span",{class:h(o.isOnSale?"line-through text-gray-400":"font-bold text-gray-900")},i(o.price)+"€ ",3)]),e("button",{onClick:W=>x(o),disabled:!o.stockQuantity,class:h(["btn btn-primary btn-sm",{"opacity-50 cursor-not-allowed":!o.stockQuantity}])},i(o.stockQuantity?"Ajouter":"Rupture"),11,J)])])]))),128))])),e("div",K,[m(g,{to:"/products",class:"btn btn-outline"},{default:p(()=>t[4]||(t[4]=[_(" Voir tous nos produits ")])),_:1,__:[4]})])])])])}}});export{Y as default};
//# sourceMappingURL=HomeView-4409f922.js.map
