import{d as O,r as t,c as E,b as a,l as u,v,m as w,t as R,j as f,z as y,h as c,E as U}from"./index-c65d1cd2.js";const x={class:"container mx-auto px-4 py-8"},L={key:0,class:"mt-2 text-green-600"},S={key:1,class:"mt-2 text-red-600"},M=O({__name:"AdminUserForm",setup(_){const o=t(""),r=t(""),n=t(""),i=t(""),d=t("ROLE_USER"),p=t(""),s=t(""),b=async()=>{var m,e;p.value="",s.value="";try{const l=await U.post("/admin/users",{firstName:o.value,lastName:r.value,email:n.value,password:i.value,role:d.value});l.data.success?(p.value="Utilisateur créé avec succès !",o.value="",r.value="",n.value="",i.value="",d.value="ROLE_USER"):s.value=l.data.message||"Erreur lors de la création"}catch(l){s.value=((e=(m=l.response)==null?void 0:m.data)==null?void 0:e.message)||"Erreur lors de la création"}};return(m,e)=>(c(),E("div",x,[e[7]||(e[7]=a("h1",{class:"text-2xl font-bold mb-4"},"Créer un nouvel utilisateur",-1)),a("form",{class:"max-w-lg space-y-4",onSubmit:y(b,["prevent"])},[u(a("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),class:"input input-bordered w-full",placeholder:"Prénom",required:""},null,512),[[v,o.value]]),u(a("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),class:"input input-bordered w-full",placeholder:"Nom",required:""},null,512),[[v,r.value]]),u(a("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),class:"input input-bordered w-full",placeholder:"Email",type:"email",required:""},null,512),[[v,n.value]]),u(a("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>i.value=l),class:"input input-bordered w-full",placeholder:"Mot de passe",type:"password",required:""},null,512),[[v,i.value]]),u(a("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>d.value=l),class:"input input-bordered w-full",required:""},e[5]||(e[5]=[a("option",{value:"ROLE_USER"},"ROLE_USER",-1),a("option",{value:"ROLE_ADMIN"},"ROLE_ADMIN",-1),a("option",{value:"ROLE_STORE_KEEPER"},"ROLE_STORE_KEEPER",-1),a("option",{value:"ROLE_COMPTA"},"ROLE_COMPTA",-1)]),512),[[w,d.value]]),e[6]||(e[6]=a("button",{class:"btn btn-primary",type:"submit"}," Créer ",-1)),p.value?(c(),E("div",L,R(p.value),1)):f("",!0),s.value?(c(),E("div",S,R(s.value),1)):f("",!0)],32)]))}});export{M as default};
//# sourceMappingURL=AdminUserForm-ec94c000.js.map
