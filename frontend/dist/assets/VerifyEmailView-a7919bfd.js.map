{"version":3,"file":"VerifyEmailView-a7919bfd.js","sources":["../../src/views/VerifyEmailView.vue"],"sourcesContent":["<!-- filepath: frontend/src/views/VerifyEmailView.vue -->\r\n<template>\r\n  <div class=\"container mx-auto py-16 text-center\">\r\n    <div v-if=\"loading\">Vérification en cours...</div>\r\n    <div v-else-if=\"success\" class=\"text-green-600 text-xl font-bold\">✅ Compte confirmé !</div>\r\n    <div v-else class=\"text-red-600 text-xl font-bold\">❌ {{ errorMsg }}</div>\r\n    <router-link to=\"/\" class=\"btn btn-primary mt-6\">Retour à l'accueil</router-link>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nconst route = useRoute()\r\nconst loading = ref(true)\r\nconst success = ref(false)\r\nconst errorMsg = ref('')\r\n\r\nonMounted(async () => {\r\n  const token = route.query.token as string | undefined\r\n  if (!token) {\r\n    loading.value = false\r\n    errorMsg.value = 'Lien de confirmation invalide.'\r\n    return\r\n  }\r\n  try {\r\n    const res = await fetch('/api/auth/verify-email', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ token })\r\n    })\r\n    const data = await res.json()\r\n    loading.value = false\r\n    if (data.success) {\r\n      success.value = true\r\n    } else {\r\n      errorMsg.value = data.error || 'Erreur lors de la confirmation.'\r\n    }\r\n  } catch {\r\n    loading.value = false\r\n    errorMsg.value = 'Erreur serveur.'\r\n  }\r\n})\r\n</script>"],"names":["route","useRoute","loading","ref","success","errorMsg","onMounted","token","data","_openBlock","_createElementBlock","_hoisted_1","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","_cache"],"mappings":"yTAcA,MAAMA,EAAQC,IACRC,EAAUC,EAAI,EAAI,EAClBC,EAAUD,EAAI,EAAK,EACnBE,EAAWF,EAAI,EAAE,EAEvB,OAAAG,EAAU,SAAY,CACd,MAAAC,EAAQP,EAAM,MAAM,MAC1B,GAAI,CAACO,EAAO,CACVL,EAAQ,MAAQ,GAChBG,EAAS,MAAQ,iCACjB,MACF,CACI,GAAA,CAMI,MAAAG,EAAO,MALD,MAAM,MAAM,yBAA0B,CAChD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,UAAU,CAAE,MAAAD,EAAO,CAAA,CAC/B,GACsB,OACvBL,EAAQ,MAAQ,GACZM,EAAK,QACPJ,EAAQ,MAAQ,GAEPC,EAAA,MAAQG,EAAK,OAAS,iCACjC,MACM,CACNN,EAAQ,MAAQ,GAChBG,EAAS,MAAQ,iBACnB,CAAA,CACD,mCAzCC,OAAAI,EAAA,EAAAC,EAKM,MALNC,EAKM,CAJOT,EAAO,OAAlBO,IAAAC,EAAkD,QAA9B,0BAAwB,GAC5BN,EAAO,WAAvBM,EAA2F,MAA3FE,EAAkE,qBAAmB,IACrFH,IAAAC,EAAyE,MAAzEG,EAAmD,OAAKR,EAAQ,KAAA,EAAA,CAAA,GAChES,EAAiFC,EAAA,CAApE,GAAG,IAAI,MAAM,sBAAA,aAAuB,IAAkBC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAlB,oBAAkB,CAAA"}